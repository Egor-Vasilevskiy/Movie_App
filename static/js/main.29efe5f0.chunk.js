(this.webpackJsonpmovie_app=this.webpackJsonpmovie_app||[]).push([[0],{23:function(e,t,c){},64:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(21),i=c.n(n),r=(c(64),c(23),c(42)),s=c.n(r),o=c(46),l=c.n(o),j=c(47),b=c.n(j),d=c(22),h=c(2),u=function(){return Object(h.jsx)("div",{children:Object(h.jsxs)("nav",{className:"header__nav",children:[Object(h.jsx)(d.b,{className:"nav__item",to:"/",children:Object(h.jsx)(s.a,{fontSize:"large"})}),Object(h.jsx)(d.b,{className:"nav__item",to:"/Trend",children:Object(h.jsx)(l.a,{fontSize:"large"})}),Object(h.jsx)(d.b,{className:"nav__item",to:"/Save",children:Object(h.jsx)(b.a,{fontSize:"large"})})]})})},O=c(7),v=c(18),m=c(94),f=c(77),x=c(102),p=c(95),g=c(96),w=c(100),_=c(98),N=c(97),y=c(101),S=c(99),A=c(19),C=c(28),E=function(e,t){switch(t.type){case"ADD_MOVIE_TO_SAVELIST":return Object(C.a)(Object(C.a)({},e),{},{watchlist:[t.payload].concat(Object(A.a)(e.watchlist))});case"REMOVE_WATCHED_FILM":return Object(C.a)(Object(C.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});default:return e}},I={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[]},M=Object(a.createContext)(I),T=function(e){var t=Object(a.useReducer)(E,I),c=Object(v.a)(t,2),n=c[0],i=c[1];Object(a.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(n.watchlist))}),[n]);return Object(h.jsx)(M.Provider,{value:{watchlist:n.watchlist,addMovieToSaveList:function(e){i({type:"ADD_MOVIE_TO_SAVELIST",payload:e})},removeWatchedFilm:function(e){i({type:"REMOVE_WATCHED_FILM",payload:e})}},children:e.children})},k=c(36),z=c.n(k),D=Object(m.a)({root:{maxWidth:300,margin:20,background:"#1b1e21",textAlign:"center"},title:{color:"#ffffff"},button:{display:"flex",justifyContent:"center"},titleOverview:{fontSize:"40px"},vote_average:{color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"}}),L=function(e){var t=e.movie,c=D(),n=Object(a.useContext)(M),i=n.addMovieToSaveList,r=!!n.watchlist.find((function(e){return e.id===t.id}));return Object(h.jsxs)(p.a,{className:c.root,children:[Object(h.jsxs)(g.a,{className:"CardActionArea",children:[Object(h.jsx)(N.a,{component:"img",alt:t.title,height:"400",image:"https://image.tmdb.org/t/p/w1280"+t.poster_path,title:t.title}),Object(h.jsxs)(_.a,{children:[Object(h.jsx)(S.a,{className:c.title,gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(h.jsxs)(S.a,{className:"overview",children:[Object(h.jsx)(S.a,{className:c.titleOverview,children:"Overview:"}),t.overview]}),Object(h.jsxs)(S.a,{className:c.vote_average,children:["\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u043e\u0446\u0435\u043d\u043a\u0430 ",t.vote_average," ",Object(h.jsx)(z.a,{})]})]})]}),Object(h.jsx)(w.a,{className:c.button,children:Object(h.jsx)(y.a,{onClick:function(){return i(t)},disabled:r,size:"small",color:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})},V=Object(m.a)({root:{background:"#303539",margin:"50px",textAlign:"center",width:"500px",borderRadius:"20px"},input:{color:"#fff",paddingLeft:"15px",textAlign:"center"},iconButton:{color:"#fff"}}),W=function(){var e=V(),t=Object(a.useState)(""),c=Object(v.a)(t,2),n=c[0],i=c[1],r=Object(a.useState)([]),s=Object(v.a)(r,2),o=s[0],l=s[1];return Object(h.jsxs)("div",{className:"Search",children:[Object(h.jsx)(f.a,{component:"form",className:e.root,children:Object(h.jsx)(x.a,{className:e.input,placeholder:"\u0427\u0442\u043e \u0431\u0443\u0434\u0435\u043c \u0438\u0441\u043a\u0430\u0442\u044c?",value:n,onChange:function(e){e.preventDefault(),i(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?&api_key=8ae9673b0952deb4fb5523ce7534dbf8&language=ru&query=").then((function(e){return e.json()})).then((function(e){e.errors?l([]):l(e.results)}))}})}),Object(h.jsx)("div",{className:"Movies",children:o.length>0&&o.map((function(e){return Object(h.jsx)(L,{movie:e},e.id)}))})]})},F=Object(m.a)({root:{maxWidth:300,margin:20,background:"#1b1e21",textAlign:"center"},title:{color:"#ffffff"},button:{display:"flex",justifyContent:"center"},titleOverview:{fontSize:"40px"}}),B=function(e){var t=e.movie,c=F(),n=Object(a.useContext)(M).removeWatchedFilm;return Object(h.jsxs)(p.a,{className:c.root,children:[Object(h.jsxs)(g.a,{className:"CardActionArea",children:[Object(h.jsx)(N.a,{component:"img",alt:t.title,height:"400",image:"https://image.tmdb.org/t/p/w1280"+t.poster_path,title:t.title}),Object(h.jsxs)(_.a,{children:[Object(h.jsx)(S.a,{className:c.title,gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(h.jsxs)(S.a,{className:"overview",children:[Object(h.jsx)(S.a,{className:c.titleOverview,children:"Overview:"}),t.overview]}),Object(h.jsxs)(S.a,{className:c.vote_average,children:["\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u043e\u0446\u0435\u043d\u043a\u0430 ",t.vote_average," ",Object(h.jsx)(z.a,{})]})]})]}),Object(h.jsx)(w.a,{className:c.button,children:Object(h.jsx)(y.a,{onClick:function(){return n(t.id)},size:"small",color:"primary",children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u043e"})})]})},J=function(e){e.movie;var t=Object(a.useContext)(M).watchlist;return Object(h.jsx)("div",{className:"Movies",children:t.map((function(e){return Object(h.jsx)(B,{movie:e})}))})},R=function(){var e=Object(a.useState)([]),t=Object(v.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){fetch("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=04c35731a5ee918f014970082a0088b1&language=ru&page=1").then((function(e){return e.json()})).then((function(e){n(e.results)}))}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"Movies",children:c.length>0&&c.map((function(e){return Object(h.jsx)(L,{movie:e,type:"watchlist"},e.id)}))})})};var H=function(){return Object(h.jsx)(T,{children:Object(h.jsxs)(d.a,{children:[Object(h.jsx)(u,{}),Object(h.jsxs)(O.c,{children:[Object(h.jsx)(O.a,{exact:!0,path:"/",children:Object(h.jsx)(W,{})}),Object(h.jsx)(O.a,{path:"/Trend",children:Object(h.jsx)(R,{})}),Object(h.jsx)(O.a,{path:"/Save",children:Object(h.jsx)(J,{})})]})]})})};i.a.render(Object(h.jsx)(H,{}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.29efe5f0.chunk.js.map
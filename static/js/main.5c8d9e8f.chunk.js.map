{"version":3,"sources":["components/Header.js","context/AppReducer.js","context/GlobalState.js","components/ResultCard.js","components/Search.js","components/MovieCard.js","components/Save.js","components/Trend.js","App.js","index.js"],"names":["Header","className","to","fontSize","AppReducer","state","action","type","watchlist","payload","filter","movie","id","initialState","localStorage","getItem","JSON","parse","GlobalContext","createContext","GlobalProvider","props","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","addMovieToSaveList","removeWatchedFilm","children","useStyles","makeStyles","root","maxWidth","margin","background","textAlign","title","color","button","display","justifyContent","titleOverview","vote_average","alignItems","ResultCard","classes","useContext","watchlistDisabled","find","o","Card","CardActionArea","CardMedia","component","alt","height","image","poster_path","CardContent","Typography","gutterBottom","variant","overview","CardActions","Button","onClick","disabled","size","width","borderRadius","input","paddingLeft","iconButton","Search","useState","query","setQuery","results","setResults","Paper","InputBase","placeholder","onChange","e","preventDefault","target","fetch","then","res","json","data","errors","length","map","MovieCard","Save","Trend","movies","SetMovies","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5c8d9e8f.chunk.js","sourcesContent":["import './Style.css'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport WhatshotIcon from '@material-ui/icons/Whatshot'\r\nimport BookmarkIcon from '@material-ui/icons/Bookmark'\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div>\r\n      <nav className=\"header__nav\">\r\n        <Link className=\"nav__item\" to=\"/\" >\r\n          <SearchIcon fontSize=\"large\" />\r\n        </Link>\r\n\r\n        <Link className=\"nav__item\" to=\"/Trend\" >\r\n          <WhatshotIcon fontSize=\"large\" />\r\n        </Link>\r\n        \r\n        <Link className=\"nav__item\" to=\"/Save\" >\r\n          <BookmarkIcon fontSize=\"large\" />\r\n        </Link>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;","export const AppReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case \"ADD_MOVIE_TO_SAVELIST\":\r\n        return {\r\n          ...state,\r\n          watchlist: [action.payload, ...state.watchlist],\r\n        };\r\n      case \"REMOVE_WATCHED_FILM\":\r\n        return {\r\n          ...state,\r\n          watchlist: state.watchlist.filter(\r\n            (movie) => movie.id !== action.payload\r\n          ),\r\n        };\r\n        default:\r\n      return state;\r\n  }\r\n};","import React, { createContext, useReducer, useEffect } from \"react\";\r\nimport { AppReducer } from \"./AppReducer\";\r\n\r\n// initial state\r\nconst initialState = {\r\n  watchlist:  localStorage.getItem(\"watchlist\")\r\n  ? JSON.parse(localStorage.getItem(\"watchlist\"))\r\n  : [],\r\n};\r\n\r\n// create context\r\nexport const GlobalContext = createContext(initialState);\r\n\r\n// provider components\r\nexport const GlobalProvider = (props) => {\r\n  const [state, dispatch] = useReducer(AppReducer, initialState);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"watchlist\", JSON.stringify(state.watchlist));\r\n  }, [state]);\r\n\r\n  // actions\r\n  const addMovieToSaveList = movie => {\r\n    dispatch({ type: \"ADD_MOVIE_TO_SAVELIST\", payload: movie });\r\n  };\r\n\r\n  const removeWatchedFilm = id => {\r\n    dispatch({ type: \"REMOVE_WATCHED_FILM\", payload: id });\r\n  };\r\n  \r\n  return (\r\n    <GlobalContext.Provider\r\n      value={{\r\n        watchlist: state.watchlist,\r\n        addMovieToSaveList,\r\n        removeWatchedFilm,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};","import React, { useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { GlobalContext } from '../context/GlobalState';\r\nimport StarIcon from '@material-ui/icons/Star';\r\nimport './Style.css'\r\n\r\nconst IMGPATH = \"https://image.tmdb.org/t/p/w1280\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: 300,\r\n    margin: 20,\r\n    background: '#1b1e21',\r\n    textAlign: 'center',\r\n  },\r\n\r\n  title: {\r\n    color: '#ffffff'\r\n  },\r\n\r\n  button: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n  },\r\n\r\n  titleOverview: {\r\n    fontSize: '40px',\r\n  },\r\n\r\n  vote_average: {\r\n    color:'#fff',\r\n    display:'flex',\r\n    alignItems:'center',\r\n    justifyContent:'center'\r\n  }\r\n});\r\n\r\n\r\nexport const ResultCard = ({ movie }) => {\r\n  const classes = useStyles();\r\n\r\n  const { addMovieToSaveList, watchlist } = useContext(GlobalContext);\r\n\r\n  let storedMovie = watchlist.find((o) => o.id === movie.id);\r\n\r\n  const watchlistDisabled = storedMovie ? true : false;\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea className=\"CardActionArea\">\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt={movie.title}\r\n          height=\"400\"\r\n          image={IMGPATH + movie.poster_path}\r\n          title={movie.title}\r\n        />\r\n        <CardContent>\r\n          <Typography className={classes.title} gutterBottom variant=\"h5\" component=\"h2\" >\r\n            {movie.title}\r\n          </Typography>\r\n          <Typography className='overview'>\r\n            <Typography className={classes.titleOverview}>Overview:</Typography>\r\n            {movie.overview}\r\n          </Typography>\r\n          <Typography className={classes.vote_average}>\r\n            Средняя оценка {movie.vote_average} <StarIcon/>\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions className={classes.button}>\r\n        <Button onClick={() => addMovieToSaveList(movie)} disabled={watchlistDisabled} size=\"small\" color=\"primary\">\r\n          Сохранить\r\n      </Button>\r\n      </CardActions>\r\n    </Card>\r\n  )\r\n}","import './Style.css'\r\nimport React, { useState } from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Paper, InputBase } from '@material-ui/core';\r\nimport { ResultCard  } from './ResultCard';\r\n\r\n\r\nconst SEARCHAPI =\r\n    \"https://api.themoviedb.org/3/search/movie?&api_key=8ae9673b0952deb4fb5523ce7534dbf8&language=ru&query=\";\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        background: '#303539',\r\n        margin: '50px',\r\n        textAlign:'center',\r\n        width:'500px',\r\n        borderRadius:'20px',\r\n    },\r\n\r\n    input: {\r\n        color:'#fff',\r\n        paddingLeft: '15px',\r\n        textAlign:'center',\r\n    },\r\n\r\n    iconButton: {\r\n        color: '#fff'\r\n    }\r\n})\r\n\r\nexport const Search = () => {\r\n    const classes = useStyles();\r\n\r\n    const [query, setQuery] = useState(\"\");\r\n    const [results, setResults] = useState([]);\r\n  \r\n    const onChange = (e) => {\r\n      e.preventDefault();\r\n  \r\n      setQuery(e.target.value);\r\n  \r\n      fetch(SEARCHAPI)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (!data.errors) {\r\n            setResults(data.results);\r\n          } else {\r\n            setResults([]);\r\n          }\r\n        });\r\n    };\r\n  \r\n    return (\r\n        <div className='Search'>\r\n            <Paper component=\"form\" className={classes.root}>\r\n                <InputBase\r\n                    className={classes.input}\r\n                    placeholder=\"Что будем искать?\"\r\n                    value={query}\r\n                    onChange={onChange}\r\n                />\r\n            </Paper>\r\n\r\n            <div className=\"Movies\">\r\n                {results.length > 0 && results.map((movie) => \r\n                <ResultCard  key={movie.id} movie={movie} />)}\r\n            </div>\r\n        </div>\r\n)}\r\n","import React, { useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { GlobalContext } from '../context/GlobalState';\r\nimport './Style.css'\r\n\r\nconst IMGPATH = \"https://image.tmdb.org/t/p/w1280\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: 300,\r\n    margin: 20,\r\n    background:'#1b1e21',\r\n    textAlign:'center',\r\n  },\r\n\r\n  title: {\r\n    color:'#ffffff'\r\n  },\r\n\r\n  button: {\r\n    display:'flex',\r\n    justifyContent:'center'\r\n  },\r\n\r\n  titleOverview: {\r\n    fontSize:'40px',\r\n  }\r\n});\r\n\r\n\r\nexport const MovieCard = ({movie}) => {\r\n  const classes = useStyles();\r\n\r\n  const { removeWatchedFilm } = useContext(GlobalContext)\r\n\r\n  return (\r\n  <Card className={classes.root}>\r\n    <CardActionArea className=\"CardActionArea\">\r\n      <CardMedia \r\n        component=\"img\"\r\n        alt={movie.title}\r\n        height=\"400\"\r\n        image={IMGPATH + movie.poster_path}\r\n        title={movie.title}\r\n      />\r\n      <CardContent>\r\n        <Typography className={classes.title} gutterBottom variant=\"h5\" component=\"h2\" >\r\n        {movie.title}\r\n        </Typography>\r\n        <Typography className='overview'>\r\n          <Typography className={classes.titleOverview}>Overview:</Typography>\r\n          {movie.overview}\r\n        </Typography>\r\n      </CardContent>\r\n    </CardActionArea>\r\n    <CardActions className={classes.button}>\r\n      <Button onClick={() => removeWatchedFilm(movie.id)} size=\"small\" color=\"primary\">\r\n        Просмотренно\r\n      </Button>\r\n    </CardActions>\r\n  </Card>\r\n)}","import React, { useContext } from \"react\";\r\nimport { MovieCard  } from './MovieCard';\r\nimport { GlobalContext } from '../context/GlobalState'\r\n\r\nexport const Save = ({movie}) => {\r\n\r\n    const {watchlist} = useContext(GlobalContext)\r\n\r\n    return (\r\n            <div className=\"Movies\">\r\n                { watchlist.map((movie) => \r\n                <MovieCard  movie={movie} />)}\r\n            </div>\r\n    )\r\n}","import './Style.css'\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { ResultCard  } from './ResultCard';\r\n\r\nconst APIURL =\r\n    \"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=04c35731a5ee918f014970082a0088b1&language=ru&page=1\";\r\n\r\nexport const Trend = () => {\r\n    const [movies, SetMovies] = useState([]);\r\n\r\n    useEffect(() =>{\r\n      fetch(APIURL)\r\n        .then((res) => res.json())\r\n          .then((data) => {\r\n            SetMovies(data.results)\r\n        })\r\n    }, [])  \r\n  \r\n\r\n    return (\r\n      <>              \r\n            <div className=\"Movies\">\r\n                {movies.length > 0 && movies.map((movie) => \r\n                <ResultCard  key={movie.id} movie={movie} type=\"watchlist\"/>)}\r\n            </div>\r\n      </>\r\n    )\r\n}","import Header from './components/Header'\nimport { Switch, Route, BrowserRouter as Router } from \"react-router-dom\"\nimport { Search } from './components/Search'\nimport { Save } from './components/Save'\nimport { Trend } from './components/Trend'\nimport { GlobalProvider } from \"./context/GlobalState\";\n\nfunction App() {\n  return (\n    <GlobalProvider>\n      <Router>\n        <Header />\n\n        <Switch>\n          <Route exact path=\"/\">\n            <Search />\n          </Route>\n          <Route path=\"/Trend\" >\n            <Trend />\n          </Route>\n          <Route path=\"/Save\">\n            <Save /> \n          </Route>\n        </Switch>\n      </Router>\n    </GlobalProvider>  \n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}
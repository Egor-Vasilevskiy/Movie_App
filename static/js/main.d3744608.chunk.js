(this.webpackJsonpmovie_app=this.webpackJsonpmovie_app||[]).push([[0],{23:function(e,t,c){},63:function(e,t,c){},75:function(e,t,c){"use strict";c.r(t);var a=c(0),i=c(21),n=c.n(i),r=(c(63),c(23),c(41)),s=c.n(r),o=c(45),l=c.n(o),j=c(46),b=c.n(j),d=c(22),h=c(2),u=function(){return Object(h.jsx)("div",{children:Object(h.jsxs)("nav",{className:"header__nav",children:[Object(h.jsx)(d.b,{className:"nav__item",to:"/",children:Object(h.jsx)(s.a,{fontSize:"large"})}),Object(h.jsx)(d.b,{className:"nav__item",to:"/Trend",children:Object(h.jsx)(l.a,{fontSize:"large"})}),Object(h.jsx)(d.b,{className:"nav__item",to:"/Save",children:Object(h.jsx)(b.a,{fontSize:"large"})})]})})},O=c(7),m=c(18),f=c(93),v=c(76),x=c(101),p=c(94),g=c(95),w=c(99),_=c(97),N=c(96),S=c(100),y=c(98),A=c(19),C=c(28),E=function(e,t){switch(t.type){case"ADD_MOVIE_TO_SAVELIST":return Object(C.a)(Object(C.a)({},e),{},{watchlist:[t.payload].concat(Object(A.a)(e.watchlist))});case"REMOVE_WATCHED_FILM":return Object(C.a)(Object(C.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});default:return e}},M={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[]},I=Object(a.createContext)(M),T=function(e){var t=Object(a.useReducer)(E,M),c=Object(m.a)(t,2),i=c[0],n=c[1];Object(a.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(i.watchlist))}),[i]);return Object(h.jsx)(I.Provider,{value:{watchlist:i.watchlist,addMovieToSaveList:function(e){n({type:"ADD_MOVIE_TO_SAVELIST",payload:e})},removeWatchedFilm:function(e){n({type:"REMOVE_WATCHED_FILM",payload:e})}},children:e.children})},k=Object(f.a)({root:{maxWidth:300,margin:20,background:"#1b1e21",textAlign:"center"},title:{color:"#ffffff"},button:{display:"flex",justifyContent:"center"},titleOverview:{fontSize:"40px"}}),z=function(e){var t=e.movie,c=k(),i=Object(a.useContext)(I),n=i.addMovieToSaveList,r=!!i.watchlist.find((function(e){return e.id===t.id}));return Object(h.jsxs)(p.a,{className:c.root,children:[Object(h.jsxs)(g.a,{className:"CardActionArea",children:[Object(h.jsx)(N.a,{component:"img",alt:t.title,height:"400",image:"https://image.tmdb.org/t/p/w1280"+t.poster_path,title:t.title}),Object(h.jsxs)(_.a,{children:[Object(h.jsx)(y.a,{className:c.title,gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(h.jsxs)(y.a,{className:"overview",children:[Object(h.jsx)(y.a,{className:c.titleOverview,children:"Overview:"}),t.overview]})]})]}),Object(h.jsx)(w.a,{className:c.button,children:Object(h.jsx)(S.a,{onClick:function(){return n(t)},disabled:r,size:"small",color:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})},D=Object(f.a)({root:{background:"#303539",margin:"50px",textAlign:"center",width:"500px",borderRadius:"20px"},input:{color:"#fff",paddingLeft:"15px"},iconButton:{color:"#fff"}}),L=function(){var e=D(),t=Object(a.useState)(""),c=Object(m.a)(t,2),i=c[0],n=c[1],r=Object(a.useState)([]),s=Object(m.a)(r,2),o=s[0],l=s[1];return Object(h.jsxs)("div",{className:"Search",children:[Object(h.jsx)(v.a,{component:"form",className:e.root,children:Object(h.jsx)(x.a,{className:e.input,placeholder:"\u0427\u0442\u043e \u0431\u0443\u0434\u0435\u043c \u0438\u0441\u043a\u0430\u0442\u044c?",value:i,onChange:function(e){e.preventDefault(),n(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?&api_key=8ae9673b0952deb4fb5523ce7534dbf8&language=ru&query="+i).then((function(e){return e.json()})).then((function(e){e.errors?l([]):l(e.results)}))}})}),Object(h.jsx)("div",{className:"Movies",children:o.length>0&&o.map((function(e){return Object(h.jsx)(z,{movie:e},e.id)}))})]})},V=Object(f.a)({root:{maxWidth:300,margin:20,background:"#1b1e21",textAlign:"center"},title:{color:"#ffffff"},button:{display:"flex",justifyContent:"center"},titleOverview:{fontSize:"40px"}}),W=function(e){var t=e.movie,c=V(),i=Object(a.useContext)(I).removeWatchedFilm;return Object(h.jsxs)(p.a,{className:c.root,children:[Object(h.jsxs)(g.a,{className:"CardActionArea",children:[Object(h.jsx)(N.a,{component:"img",alt:t.title,height:"400",image:"https://image.tmdb.org/t/p/w1280"+t.poster_path,title:t.title}),Object(h.jsxs)(_.a,{children:[Object(h.jsx)(y.a,{className:c.title,gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(h.jsxs)(y.a,{className:"overview",children:[Object(h.jsx)(y.a,{className:c.titleOverview,children:"Overview:"}),t.overview]})]})]}),Object(h.jsx)(w.a,{className:c.button,children:Object(h.jsx)(S.a,{onClick:function(){return i(t.id)},size:"small",color:"primary",children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u043e"})})]})},B=function(e){e.movie;var t=Object(a.useContext)(I).watchlist;return Object(h.jsx)("div",{className:"Movies",children:t.map((function(e){return Object(h.jsx)(W,{movie:e})}))})},F=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),c=t[0],i=t[1];return Object(a.useEffect)((function(){fetch("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=04c35731a5ee918f014970082a0088b1&language=ru&page=1").then((function(e){return e.json()})).then((function(e){i(e.results)}))}),[]),Object(h.jsx)("div",{className:"Movies",children:c.length>0&&c.map((function(e){return Object(h.jsx)(z,{movie:e,type:"watchlist"},e.id)}))})};var J=function(){return Object(h.jsx)(T,{children:Object(h.jsxs)(d.a,{children:[Object(h.jsx)(u,{}),Object(h.jsxs)(O.c,{children:[Object(h.jsx)(O.a,{exact:!0,path:"/",children:Object(h.jsx)(L,{})}),Object(h.jsx)(O.a,{path:"/Trend",children:Object(h.jsx)(F,{})}),Object(h.jsx)(O.a,{path:"/Save",children:Object(h.jsx)(B,{})})]})]})})};n.a.render(Object(h.jsx)(J,{}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.d3744608.chunk.js.map